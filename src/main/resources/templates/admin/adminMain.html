<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>관리자 페이지</title>
    <link rel="stylesheet" href="/assets/css/admin/admin.css" />
</head>

<body>
<div class="all-change">
    <div class="header-change">
        <p class="h-change">Buskers</p>
        <h1 class="h-change"><a href="" class="btn-home"><img src="/images/admin/home.png" width="15px;" height="15px;" alt=""> 관리자 이름</a></h1>
        <ul class="h-change">
            <li><a href="" class="btn-artist"><img src="/images/admin/art-studies.png" width="15px;" height="15px;" alt="">&nbsp;&nbsp;아티스트 관리</a></li>
            <!-- <a href="https://www.flaticon.com/free-icons/art" title="art icons">Art icons created by Hilmy Abiyyu A. - Flaticon</a> -->
            <li><a href="" class="btn-notice"><img src="/images/admin/recruitment.png" width="15px;" height="15px;" alt="">&nbsp;&nbsp;모집 공고 관리</a></li>
            <!-- <a href="https://www.flaticon.com/free-icons/recruitment" title="recruitment icons">Recruitment icons created by Icon home - Flaticon</a> -->
            <li><a href="" class="btn-work"><img src="/images/admin/premium-icon-page-3151429.png" width="15px;" height="15px;" alt="">&nbsp;&nbsp;작품 관리</a></li>
            <!-- <a href="https://www.flaticon.com/kr/free-icons/-" title="직업과 직업 아이콘">직업과 직업 아이콘  제작자: verry purnomo - Flaticon</a> -->
            <li><a href="" class="btn-user"><img src="/images/admin/free-icon-user-456212.png" width="15px;" height="15px;" alt="">&nbsp;&nbsp;회원 관리</a></li>
            <!-- <a href="https://www.flaticon.com/kr/free-icons/" title=" 아이콘"> 아이콘  제작자: Freepik - Flaticon</a> -->
            <!-- <li><a href="" class="btn-inquiry">문의 관리</a></li> -->
        </ul>
    </div>
    <div class="field-display">
        <div class="admin-name">
            <h1>관리자 이름</h1>
            <div class="btn-main-border">
                <a href="/main/main.html" class="btn-main">메인으로 돌아가기</a>
            </div>
        </div>
        <div class="home-display">
            <div class="left-today">
                <div class="today">
                    <h5 class="audit">오늘의 할일&nbsp;<p class="circle">11</p>
                    </h5>
                    <ul>
                        <li class="audit"><a href="" class="btn-artist">아티스트심사</a>&nbsp;<p class="todayArtistApply">10</p>
                        </li>
                        <li class="audit"><a href="" class="btn-notice">모집공고관리</a>&nbsp;
                            <th:block th:object="${recruitPageDTO}">
                                <p class="todayRecruit" th:text="*{total}"></p>
                            </th:block>
                        </li>
                        <li class="audit"><a href="" class="btn-work">작품심사</a>&nbsp;
                            <th:block th:object="${workPageDTO}">
                                <p class="todayWorkApply" th:text="*{total}"></p>
                            </th:block>
                        </li>
                        <li class="audit"><a href="" class="btn-user">회원관리</a>&nbsp;
                            <th:block th:object="${userPageDTO}">
                                <p class="totalUser" th:text="*{total}"></p>
                            </th:block>
                        </li>
                        <!--                             <li><a href="" class="btn-inquiry">작품 수정 신청<p></p></a>-->
                        <!--                            </li> -->
                    </ul>
                </div>
                <div class="artist-list" style="height: 397px;">
                    <table>
                        <h4>최신 작품 신청</h4>
                        <tr>
                            <th>일자</th>
                            <th>작품명</th>
                            <th>신청자 이름</th>
                            <th>상세 보기</th>
                        </tr>
                        <th:block th:each="works:${workListSmall}">
                            <tr th:object="${works}">
                                <td th:text="*{workRegisterDate}"></td>
                                <td th:text="*{workName}"></td>
                                <td th:text="*{artistName}"></td>
                                <td><a th:href="@{/registerApplyRead(workNumber=*{workNumber})}">내용 보기</a></td>
                            </tr>
                        </th:block>
                    </table>
                </div>
                <div class="artist-list">
                    <table>
                        <h4>최신 아티스트 신청</h4>
                        <tr>
                            <th>일자</th>
                            <th>이름</th>
                            <th>설명</th>
                            <th>후원 여부</th>
                            <th>신청 일자</th>
                        </tr>
                        <tr>
                            <td><img src="/images/admin/propill-1.png" class="icon" width="20px;"
                                     height="20px;" alt=""></td>
                            <td>청하</td>
                            <td><a href="/artist/artistInfo.html">내용 보기</a></td>
                            <td>O</td>
                            <td>2022-06-10</td>
                        </tr>
                        <tr>
                            <td><img src="/images/admin/propill-2.png" class="icon" width="20px;"
                                     height="20px;" alt=""></td>
                            <td>보아</td>
                            <td><a href="/artist/artistInfo.html">내용 보기</a></td>
                            <td>O</td>
                            <td>2022-06-10</td>
                        </tr>
                        <tr>
                            <td><img src="/images/admin/propill-3.png" class="icon" width="20px;"
                                     height="20px;" alt=""></td>
                            <td>아이유</td>
                            <td><a href="/templates/artist/artistInfo.html">내용 보기</a></td>
                            <td>O</td>
                            <td>2022-06-10</td>
                        </tr>
                        <tr>
                            <td><img src="/images/admin/propill-1.png" class="icon" width="20px;"
                                     height="20px;" alt=""></td>
                            <td>청하</td>
                            <td><a href="/artist/artistInfo.html">내용 보기</a></td>
                            <td>O</td>
                            <td>2022-06-10</td>
                        </tr>
                        <tr>
                            <td><img src="/images/admin/propill-2.png" class="icon" width="20px;"
                                     height="20px;" alt=""></td>
                            <td>보아</td>
                            <td><a href="/artist/artistInfo.html">내용 보기</a></td>
                            <td>O</td>
                            <td>2022-06-10</td>
                        </tr>
                        <tr>
                            <td><img src="/images/admin/propill-3.png" class="icon" width="20px;"
                                     height="20px;" alt=""></td>
                            <td>아이유</td>
                            <td><a href="/artist/artistInfo.html">내용 보기</a></td>
                            <td>O</td>
                            <td>2022-06-10</td>
                        </tr>
                        <tr>
                            <td><img src="/images/admin/propill-3.png" class="icon" width="20px;"
                                     height="20px;" alt=""></td>
                            <td>아이유</td>
                            <td><a href="/artist/artistInfo.html">내용 보기</a></td>
                            <td>O</td>
                            <td>2022-06-10</td>
                        </tr>
                    </table>
                </div>
                <div class="artist-list">
                    <table>
                        <h4>최신 모집 공고</h4>
                        <tr>
                            <th>제목</th>
                            <th>설명</th>
                            <th>실행일자</th>
                        </tr>
                        <th:block th:each="recruits:${recruitListSmall}">
                            <tr th:object="${recruits}">
                                <td th:text="*{recruitmentName}"></td>
                                <td><a th:href="@{/recruit/recruitInfo(recruitmentNumber=*{recruitmentNumber})}">내용 보기</a></td>
                                <td th:text="*{recruitmentDay}"></td>
                            </tr>
                        </th:block>

                    </table>
                </div>
                <div class="artist-list">
                    <table>
                        <h4>최신 회원</h4>
                        <tr>
                            <th>아이디</th>
                            <th>이름</th>
                            <th>핸드폰 번호</th>
                            <th>등록 일자</th>
                        </tr>
                        <th:block th:each="users:${userListSmall}">
                            <tr th:object="${users}">
                                <td th:text="*{userId}"></td>
                                <td th:text="*{userName}"></td>
                                <td th:text="*{userPhoneNumber}"></td>
                                <td th:text="*{userRegisterDate}"></td>
                            </tr>
                        </th:block>
                    </table>
                </div>
            </div>
            <div class="right-set">
                <div class="right-field">
                    <img src="/images/admin/free-icon-unknown-3088765.png" class="icon" width="40px;"
                         height="40px;" alt="">
                    <!-- <a href="https://www.flaticon.com/kr/free-icons/-" title="알 수 없는 아이콘">알 수 없는 아이콘  제작자: Freepik - Flaticon</a> -->
                    <div class="admin-field">
                        <h4>관리자 이름</h4>
                        <p>admin@gmail.com</p>
                    </div>
                </div>
                <div class="manager-set">
                    <div>
                        <h4>운영진 설정</h4>
                        <img src="/images/admin/free-icon-unknown-3088765.png" class="icon" width="40px;"
                             height="40px;" alt="">
                    </div>
                    <div>
                        <a href=""><img src="/images/admin/premium-icon-gear-484613.png" width="20px;" height="20px;" alt=""></a>
                        <!-- <a href="https://www.flaticon.com/kr/free-icons/" title="기어 아이콘">기어 아이콘  제작자: Freepik - Flaticon</a> -->
                    </div>
                </div>
                <div class="manager-set">
                    <div>
                        <h4>관리자</h4>
                        <img src="/images/admin/free-icon-unknown-3088765.png" class="icon" width="40px;"
                             height="40px;" alt="">
                    </div>
                    <div>
                        <a href=""><img src="/images/admin/premium-icon-gear-484613.png" width="20px;" height="20px;" alt=""></a>
                        <!-- <a href="https://www.flaticon.com/kr/free-icons/" title="기어 아이콘">기어 아이콘  제작자: Freepik - Flaticon</a> -->
                    </div>
                </div>
                <div class="manager-set">
                    <div>
                        <h4>관리자 이름</h4>
                        <img src="/images/admin/free-icon-unknown-3088765.png" class="icon" width="40px;"
                             height="40px;" alt="">
                    </div>
                    <div>
                        <a href=""><img src="/images/admin/premium-icon-gear-484613.png" width="20px;" height="20px;" alt=""></a>
                        <!-- <a href="https://www.flaticon.com/kr/free-icons/" title="기어 아이콘">기어 아이콘  제작자: Freepik - Flaticon</a> -->
                    </div>
                </div>
            </div>
        </div>

        <div class="artist-list-field" style="display: none;">
            <div class="page-change">
                <table>
                    <h4>아티스트 심사 및 관리</h4>
                    <tr>
                        <th>번호</th>
                        <th>일자</th>
                        <th>이름</th>
                        <th>설명</th>
                        <th>후원 여부</th>
                        <th>신청 일자</th>
                        <th>심사</th>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td><img src="/images/admin/propill-1.png" class="icon" width="40px;" height="40px;"
                                 alt=""></td>
                        <td>청하</td>
                        <td><a href="/artist/artistInfo.html">내용 보기</a></td>
                        <td>O</td>
                        <td>2022-06-10</td>
                        <td><a href="">수락</a> | <a href="">거부</a></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td><img src="/images/admin/propill-2.png" class="icon" width="40px;" height="40px;"
                                 alt=""></td>
                        <td>보아</td>
                        <td><a href="/artist/artistInfo.html">내용 보기</a></td>
                        <td>O</td>
                        <td>2022-06-10</td>
                        <td><a href="">수락</a> | <a href="">거부</a></td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td><img src="/images/admin/propill-3.png" class="icon" width="40px;" height="40px;"
                                 alt=""></td>
                        <td>아이유</td>
                        <td><a href="/artist/artistInfo.html">내용 보기</a></td>
                        <td>O</td>
                        <td>2022-06-10</td>
                        <td><a href="">수락</a> | <a href="">거부</a></td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td><img src="/images/admin/propill-1.png" class="icon" width="40px;" height="40px;"
                                 alt=""></td>
                        <td>청하</td>
                        <td><a href="/artist/artistInfo.html">내용 보기</a></td>
                        <td>O</td>
                        <td>2022-06-10</td>
                        <td><a href="">수락</a> | <a href="">거부</a></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td><img src="/images/admin/propill-2.png" class="icon" width="40px;" height="40px;"
                                 alt=""></td>
                        <td>보아</td>
                        <td><a href="/artist/artistInfo.html">내용 보기</a></td>
                        <td>O</td>
                        <td>2022-06-10</td>
                        <td><a href="">수락</a> | <a href="">거부</a></td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td><img src="/images/admin/propill-3.png" class="icon" width="40px;" height="40px;"
                                 alt=""></td>
                        <td>아이유</td>
                        <td><a href="/artist/artistInfo.html">내용 보기</a></td>
                        <td>O</td>
                        <td>2022-06-10</td>
                        <td><a href="">수락</a> | <a href="">거부</a></td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td><img src="/images/admin/propill-1.png" class="icon" width="40px;" height="40px;"
                                 alt=""></td>
                        <td>청하</td>
                        <td><a href="/artist/artistInfo.html">내용 보기</a></td>
                        <td>O</td>
                        <td>2022-06-10</td>
                        <td><a href="">수락</a> | <a href="">거부</a></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td><img src="/images/admin/propill-2.png" class="icon" width="40px;" height="40px;"
                                 alt=""></td>
                        <td>보아</td>
                        <td><a href="/artist/artistInfo.html">내용 보기</a></td>
                        <td>O</td>
                        <td>2022-06-10</td>
                        <td><a href="">수락</a> | <a href="">거부</a></td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td><img src="/images/admin/propill-3.png" class="icon" width="40px;" height="40px;"
                                 alt=""></td>
                        <td>아이유</td>
                        <td><a href="/artist/artistInfo.html">내용 보기</a></td>
                        <td>O</td>
                        <td>2022-06-10</td>
                        <td><a href="">수락</a> | <a href="">거부</a></td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td><img src="/images/admin/propill-3.png" class="icon" width="40px;" height="40px;"
                                 alt=""></td>
                        <td>아이유</td>
                        <td><a href="/artist/artistInfo.html">내용 보기</a></td>
                        <td>O</td>
                        <td>2022-06-10</td>
                        <td><a href="">수락</a> | <a href="">거부</a></td>
                    </tr>

                </table>
            </div>
        </div>
        <div class="notice-list-field" style="display: none;">
            <div class="page-change">
                <table>
                    <div class="notice-name">
                        <h4>모집 공고 작성 및 관리</h4>
                        <a href="/recruit/recruitRegister" class="btn-notice-write">작성</a>
                    </div>
                    <thead>
                    <th>일자</th>
                    <th>제목</th>
                    <th>설명</th>
                    <th>외부 링크</th>
                    <th>실행 일자</th>
                    <th>수정</th>
                    </thead>
                    <tbody class="recruitments">

                    </tbody>
                </table>
            </div>
            <div class="mypage-paging">
                <div class="mypage-pageStyle">

                </div>
            </div>
        </div>
        <div class="work-list-field" style="display: none;">
            <div class="page-change">
                <table>
                    <h4>작품 심사 및 관리</h4>
                    <thead>
                    <th>일자</th>
                    <th>제목</th>
                    <th>이름</th>
                    <th>설명</th>
                    <th>작품 링크</th>
                    <th>심사</th>
                    </thead>
                    <tbody class="works">

                    </tbody>
                </table>
            </div>
            <div class="mypage-paging">
                <div class="mypage-pageStyle">

                </div>
            </div>
        </div>
        <div class="user-list-field" style="display: none;">
            <div class="page-change">
                <table>
                    <h4>회원 관리</h4>
                    <tr>
                        <th>번호</th>
                        <th>아이디</th>
                        <th>아티스트 등록 여부</th>
                        <th>좋아요 수</th>
                        <th>이름</th>
                        <th>핸드폰 번호</th>
                        <th>등록 일자</th>
                        <th>수정</th>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>asdf222</td>
                        <td>N</td>
                        <td>0</td>
                        <td>김가방</td>
                        <td>000-0000-0000</td>
                        <td>2022-06-10</td>
                        <td><a href="">수정</a> | <a href="">삭제</a></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>asdsad00</td>
                        <td>Y</td>
                        <td>2</td>
                        <td>배수영</td>
                        <td>000-0000-0000</td>
                        <td>2022-06-05</td>
                        <td><a href="">수정</a> | <a href="">삭제</a></td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>asdf222</td>
                        <td>N</td>
                        <td>0</td>
                        <td>김가방</td>
                        <td>000-0000-0000</td>
                        <td>2022-06-10</td>
                        <td><a href="">수정</a> | <a href="">삭제</a></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>asdsad00</td>
                        <td>Y</td>
                        <td>2</td>
                        <td>배수영</td>
                        <td>000-0000-0000</td>
                        <td>2022-06-05</td>
                        <td><a href="">수정</a> | <a href="">삭제</a></td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>asdf222</td>
                        <td>N</td>
                        <td>0</td>
                        <td>김가방</td>
                        <td>000-0000-0000</td>
                        <td>2022-06-10</td>
                        <td><a href="">수정</a> | <a href="">삭제</a></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>asdsad00</td>
                        <td>Y</td>
                        <td>2</td>
                        <td>배수영</td>
                        <td>000-0000-0000</td>
                        <td>2022-06-05</td>
                        <td><a href="">수정</a> | <a href="">삭제</a></td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>asdf222</td>
                        <td>N</td>
                        <td>0</td>
                        <td>김가방</td>
                        <td>000-0000-0000</td>
                        <td>2022-06-10</td>
                        <td><a href="">수정</a> | <a href="">삭제</a></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>asdsad00</td>
                        <td>Y</td>
                        <td>2</td>
                        <td>배수영</td>
                        <td>000-0000-0000</td>
                        <td>2022-06-05</td>
                        <td><a href="">수정</a> | <a href="">삭제</a></td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>asdf222</td>
                        <td>N</td>
                        <td>0</td>
                        <td>김가방</td>
                        <td>000-0000-0000</td>
                        <td>2022-06-10</td>
                        <td><a href="">수정</a> | <a href="">삭제</a></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>asdsad00</td>
                        <td>Y</td>
                        <td>2</td>
                        <td>배수영</td>
                        <td>000-0000-0000</td>
                        <td>2022-06-05</td>
                        <td><a href="">수정</a> | <a href="">삭제</a></td>
                    </tr>
                </table>
            </div>
        </div>

    </div>


</div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    $(".btn-artist").on("click", function (e) {
        e.preventDefault();
        $(".right-field").hide();
        $(".left-today").hide();
        $(".manager-set").hide();
        $(".notice-list-field").hide();
        $(".work-list-field").hide();
        $(".user-list-field").hide();
        $(".artist-list-field").show();
    });
    $(".btn-notice").on("click", function (e) {
        e.preventDefault();
        $(".left-today").hide();
        $(".right-field").hide();
        $(".manager-set").hide();
        $(".artist-list-field").hide();
        $(".work-list-field").hide();
        $(".user-list-field").hide();
        $(".notice-list-field").show();
    });

    $(".btn-work").on("click", function (e) {
        e.preventDefault();
        $(".left-today").hide();
        $(".right-field").hide();
        $(".manager-set").hide();
        $(".artist-list-field").hide();
        $(".notice-list-field").hide();
        $(".user-list-field").hide();
        $(".work-list-field").show();
    });
    $(".btn-user").on("click", function (e) {
        e.preventDefault();
        $(".left-today").hide();
        $(".right-field").hide();
        $(".manager-set").hide();
        $(".artist-list-field").hide();
        $(".notice-list-field").hide();
        $(".work-list-field").hide();
        $(".user-list-field").show();
    });
    $(".btn-home").on("click", function (e) {
        e.preventDefault();
        $(".artist-list-field").hide();
        $(".notice-list-field").hide();
        $(".work-list-field").hide();
        $(".user-list-field").hide();
        $(".left-today").show();
        $(".right-field").show();
        $(".manager-set").show();
    });
</script>
<script src="/assets/js/admin/admin.js"></script>
<script th:inline="javascript">
    let pageNumW = 1; // 작품 신청 목록 페이지 넘버
    let pageNumR = 1; // 모집 공고 목록 페이지 넘버
    let $workTr = $(".works"); // 작품 신청 목록이 들어갈 자리
    let remember = [[${criteria.listLink}]]; // 페이지 기억
    let $recruitTr = $(".recruitments"); //
    const $paging = $(".mypage-pageStyle");
    let todayWorkApply = parseInt($(".todayWorkApply").text());
    let todayRecruit = parseInt($(".todayRecruit").text());
    let todayArtistApply = parseInt($(".todayArtistApply").text());
    let today = todayWorkApply + todayArtistApply + todayRecruit;
    $(".circle").html(today);


    showWorkApplyList(pageNumW);    // 작품 신청 전체 목록 띄우기
    showRecruitmentList(pageNumR);  // 모집 공고 전체 목록 띄우기

    // 작품 등록 신청 목록
    function showWorkApplyList(page) {
        adminService.getWorkApplyList(page, function (list) {
            $workTr.empty();
            let str = "";
            console.log(list);
            if(list == null || list.length == 0) {
                $workTr.html("");
                return;
            }

            $.each(list.list, function (i, works) {
                str += "<tr>";
                str += "<td>" + works.workRegisterDate + "</td>";
                str += "<td>" + works.workName + "</td>";
                str += "<td>" + works.artistName + "</td>";
                str += `<td><a href="/work/workInfo/${works.workNumber}">상세 보기</a></td>`
                str += "<td><a href='" + works.workPurchaseUrl + "'>구매 링크</a></td>";
                str += `<td><a class="approve" href="javascript:approve(${works.workNumber})">승인</a> | <a class="reject" href="javascript:reject(${works.workNumber})">반려</a></td>`
                str += "</tr>";
            });
            $workTr.append(str);
            pageNumW = page;
            showWorkPage(list.total);
        });
    }

    function approve(wno) {
        adminService.approve(wno, function (result) {
            alert(result);
            showWorkApplyList(pageNumW);
        })
    }

    function reject(wno) {
        adminService.reject(wno, function (result) {
            alert(result);
            showWorkApplyList(pageNumW);
        })
    }

    function removeRecruitment(rno) {
        adminService.removeRecruitment(rno, function (result) {
            alert(result);
            showRecruitmentList(pageNumR);
        })
    }

    // 작품 신청 목록 페이징 처리
    function showWorkPage(total) {
        $paging.empty();
        let endPage = Math.ceil(pageNumW / 10.0) * 10;
        let startPage = endPage - 9;
        let realEnd = Math.ceil(total / 10.0);

        if(endPage > realEnd){
            endPage = realEnd;
        }

        let prev = startPage > 1;
        let next = endPage * 10 < total;
        let str = "";

        //str += "<a class=\"mypage-page-first changePage\" href='" + "workApplyList/" + 1 + "'>&lt;&lt;</a>";
        str += `<a class="mypage-page-first changePage" href="javascript:showWorkApplyList(${1})">&lt;&lt;</a>`;
        if(prev) {
            //str += "<a class='mypage-page-prev' href='" + "workApplyList/" + (startPage - 1) + "'><code>&lt;</code></a>";
            str += `<a class="mypage-page-prev" href="javascript:showWorkApplyList(${startPage-1})">&lt;</a>`
        }
        for(let i = startPage; i <= endPage; i++){
            //str += pageNum == i ? "<p>" + i +"</p>": "<a class='changePage' href='" + "workApplyList/" + i + "'>" + i + "</a>";
            str += pageNumW == i ? `<p>${i}</p>` : `<a class="changePage" href="javascript:showWorkApplyList(${i})">${i}</a>`
        }
        if(next){
            //str += "<a class='mypage-page-next' href='" + "workApplyList/" + (endPage + 1) + "'>&gt;</a>";
            str += `<a class="mypage-page-next changePage" href="javascript:showWorkApplyList(${endPage+1})">&gt;</a>`
        }
        //str += "<a class='mypage-page-last changePage' href='" + "javascript:showWorkApplyList(" + realEnd + ")" +"'>&gt;&gt;</a>";
        str += `<a class="mypage-page-last changePage" href="javascript:showWorkApplyList(${realEnd})">&gt;&gt;</a>`;

        $paging.append(str);
    }

    // 모집 공고 리스트
    function showRecruitmentList(page) {
        adminService.getRecruitmentList(page, function (list) {
            $recruitTr.empty();
            let str = "";
            console.log(list);

            if(list == null || list.length == 0) {
                $recruitTr.html("");
                return;
            }
            $.each(list.list, function (i, recruits) {
                str += `<tr>`;
                str += `<td>${recruits.recruitmentRegisterDate}</td>`;
                str += `<td>${recruits.recruitmentName}</td>`;
                str += `<td><a href="/recruit/recruitInfo?recruitmentNumber=${recruits.recruitmentNumber}">내용 보기</a></td>`
                str += `<td><a href="${recruits.recruitmentUrl}">본문 링크</a></td>`;
                str += `<td>${recruits.recruitmentDay}</td>`;
                str += `<td><a href="/admin/recruitUpdate${remember}&recruitmentNumber=${recruits.recruitmentNumber}">수정</a> | <a href="javascript:removeRecruitment(${recruits.recruitmentNumber})">삭제</a></td>`
                str += `</tr>`;
            });
            $recruitTr.append(str);
            pageNumR = page;
            showRecruitmentPage(list.total);
        });
    }

    function showRecruitmentPage(total) {
        $paging.empty();
        let endPage = Math.ceil(pageNumR / 10.0) * 10;
        let startPage = endPage - 9;
        let realEnd = Math.ceil(total / 10.0);

        if(endPage > realEnd){
            endPage = realEnd;
        }

        let prev = startPage > 1;
        let next = endPage * 10 < total;
        let str = "";

        str += `<a class="mypage-page-first changePage" href="javascript:showRecruitmentList(${1})">&lt;&lt;</a>`;
        if(prev) {
            str += `<a class="mypage-page-prev" href="javascript:showRecruitmentList(${startPage-1})">&lt;</a>`;
        }
        for(let i = startPage; i <= endPage; i++){
            str += pageNumR == i ? `<p>${i}</p>` : `<a class="changePage" href="javascript:showRecruitmentList(${i})">${i}</a>`;
        }
        if(next){
            str += `<a class="mypage-page-next changePage" href="javascript:showRecruitmentList(${endPage+1})">&gt;</a>`;
        }
        str += `<a class="mypage-page-last changePage" href="javascript:showRecruitmentList(${realEnd})">&gt;&gt;</a>`;

        $paging.append(str);
    }



</script>

</html>